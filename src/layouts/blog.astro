---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import FormattedDate from "@/components/ui/formatted-date.astro";
import Root from "./root.astro";

type Props = CollectionEntry<"blog">["data"];

const {
  title,
  subtitle,
  description,
  pubDate,
  updatedDate,
  heroImage,
  location,
} = Astro.props;
---

<Root title={`${title} | kappke.dev`} description={description}>
  <article>
    {heroImage && <Image width={1020} height={510} src={heroImage} alt="" />}
    <div>
      <div class="mb-8">
        <h1 class="font-head leading-12!">{title}</h1>
        {subtitle && <p class="text-[#ffffffb3]">{subtitle}</p>}
        <hr class="my-2" />
        {
          pubDate && (
            <div class="date text-[#ffffffb3]">
              <FormattedDate date={pubDate} />
              {location && (
                <>
                  <span class="mx-2">â€”</span>
                  {location}
                </>
              )}
              {updatedDate && (
                <div class="last-updated-on">
                  Last updated on <FormattedDate date={updatedDate} />
                </div>
              )}
            </div>
          )
        }
      </div>
      <slot />
    </div>
  </article>
</Root>
